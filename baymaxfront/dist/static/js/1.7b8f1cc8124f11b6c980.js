webpackJsonp([1],{PB7m:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("PFOP"),o=s("vLgD");var i=s("FGgt"),r=s("iVC1"),a={name:"lab",components:{model:n.a},data:function(){return{projects:[],run:"run",job:"job",project:this.$route.params.name,runitem:"",response:"",false:!1,nodes:[{title:"",icon:""}]}},watch:{$route:["fetchNodes","fetchData"]},created:function(){this.fetchNodes(),this.fetchData()},methods:{iconcss:function(t){for(var e in this.nodes)if(t===this.nodes[e].title)return this.nodes[e].icon},toproject:function(t){this.$router.push({name:"toproject",params:{name:t}})},filterproject:function(){if(void 0!==this.project)for(var t in this.projects)if(this.projects[t].name===this.project){this.projects=[this.projects[t]];break}},fetchData:function(){var t,e=this;this.project=this.$route.params.name,(t=this.params,Object(o.a)({url:"/api/lab/getall",method:"get",params:t})).then(function(t){e.projects=t.data,e.filterproject()})},fetchNodes:function(){var t=this;Object(i.a)(null).then(function(e){t.nodes=e.data})},runshow:function(t){this.runitem=t.name,this.$refs.runmodelcomponent.$emit("show")},runproject:function(){var t=this;this.response='<i class="spinner loading icon"></i>',Object(r.c)(this.runitem).then(function(e){t.response=e.data}),this.$refs.jobmodelcomponent.$emit("show")},tojob:function(){this.$router.push({path:"/job/index",query:{number:30,project:this.runitem}})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"ui compact selectable celled striped teal table"},[t._m(0),t._v(" "),s("tbody",t._l(t.projects,function(e){return s("tr",{key:e.name},[s("td",{on:{click:function(s){t.toproject(e.name)}}},[s("i",{staticClass:"clipboard list link icon"}),t._v(t._s(e.name))]),t._v(" "),s("td",[s("div",{staticClass:"ui aligned divided list"},t._l(e.nodes,function(e){return s("div",{key:e,staticClass:"item"},[s("i",{staticClass:"server icon",class:t.iconcss(e)}),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"header"},[t._v(t._s(e))])])])}))]),t._v(" "),s("td",[s("table",{staticClass:"ui small table very compact"},[t._m(1,!0),t._v(" "),s("tbody",t._l(e.maps,function(e){return e.use?s("tr",{key:e.test},[s("td",[t._v(t._s(e.test))]),t._v(" "),s("td",[t._v(t._s(e.testurl))]),t._v(" "),s("td",[t._v(t._s(e.app))]),t._v(" "),s("td",[t._v(t._s(e.robot_parameter))])]):t._e()}))])]),t._v(" "),s("td",{staticClass:"center aligned"},[s("button",{staticClass:"ui icon button blue",on:{click:function(s){t.runshow(e)}}},[s("i",{staticClass:"play icon"})])])])}))]),t._v(" "),s("model",{ref:"runmodelcomponent",attrs:{name:t.run},on:{yes:t.runproject}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("Run Project")]),t._v(" "),s("div",{attrs:{slot:"content"},slot:"content"},[t._v("Are you sure run project?")])]),t._v(" "),s("model",{ref:"jobmodelcomponent",attrs:{name:t.job,noshow:!1},on:{yes:t.tojob}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("Status")]),t._v(" "),s("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.response)},slot:"content"})])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"two wide"},[this._v("Project")]),this._v(" "),e("th",{staticClass:"one wide"},[this._v("Servers")]),this._v(" "),e("th",[this._v("Test Automation")]),this._v(" "),e("th",{staticClass:"one wide"},[this._v("Action")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("th",{staticClass:"two wide"},[this._v("Test")]),this._v(" "),e("th",{staticClass:"six wide"},[this._v("URL")]),this._v(" "),e("th",{staticClass:"two wide"},[this._v("App Log")]),this._v(" "),e("th",[this._v("Robot Parameter")])])}]},l=s("VU/8")(a,c,!1,null,null,null);e.default=l.exports},iVC1:function(t,e,s){"use strict";e.a=function(t){return Object(n.a)({url:"/api/job/getall",method:"get",params:t})},e.c=function(t){return Object(n.a)({url:"/api/job/"+t+"/start",method:"get"})},e.d=function(t){return Object(n.a)({url:"/api/job/"+t+"/stop",method:"get"})},e.b=function(t){return Object(n.a)({url:"/api/job/"+t+"/rerun",method:"get"})};var n=s("vLgD")}});
//# sourceMappingURL=1.7b8f1cc8124f11b6c980.js.map